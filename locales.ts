export type Language = 'en' | 'zh';

export const translations = {
  en: {
    app_title: "GT Shuttle",
    subtitle: "Real-time Tracker",
    direction_sn: "South ➔ North",
    direction_ns: "North ➔ South",
    schedule_info_title: "Schedule Info",
    schedule_info_text: "Travel time: Gate 9 ↔ Gate 2 (3 min), Gate 2 ↔ North (5 min). Arrival times are estimates.",
    next_departure: "Next Departure",
    no_more_buses: "No more buses",
    min_suffix: " min",
    timetable: "Timetable",
    show_upcoming: "Show Upcoming",
    show_all: "Show All",
    departed: "Departed",
    standard: "Standard",
    arriving_in: "Arriving in",
    mins: "mins",
    start: "Start",
    station_sc_9: "South Campus Gate 9",
    station_sc_2: "South Campus Gate 2",
    station_nc_main: "North Campus Main Gate",
    short_sc_9: "SC Gate 9",
    short_sc_2: "SC Gate 2",
    short_nc_main: "NC Main",
    today: "Today",
    tomorrow: "Tomorrow",
    displaying_runs: "Displaying {count} scheduled runs for {date}.",
    view_past: "View past buses",
    no_buses_msg: "No upcoming buses for this time.",
    select_date: "Select Date",
    day_0: "Sun",
    day_1: "Mon",
    day_2: "Tue",
    day_3: "Wed",
    day_4: "Thu",
    day_5: "Fri",
    day_6: "Sat",
    // PWA Prompt
    install_app: "Install App",
    install_desc: "Add to Home Screen for quick access.",
    install_ios_instr: "Tap share icon",
    install_ios_action: "then 'Add to Home Screen'",
    install_btn: "Install",
    dismiss: "Later",
  },
  zh: {
    app_title: "GT Shuttle",
    subtitle: "实时追踪",
    direction_sn: "南校区 ➔ 北校区",
    direction_ns: "北校区 ➔ 南校区",
    schedule_info_title: "时刻表信息",
    schedule_info_text: "行程时间：9号门 ↔ 2号门 (3分钟)，2号门 ↔ 北校 (5分钟)。到达时间仅供参考。",
    next_departure: "下一班发车",
    no_more_buses: "该时段已无班次",
    min_suffix: "分钟",
    timetable: "时刻表",
    show_upcoming: "显示即将发车",
    show_all: "显示全部",
    departed: "已发车",
    standard: "常规",
    arriving_in: "预计到达",
    mins: "分钟",
    start: "起点",
    station_sc_9: "南校区 9号门",
    station_sc_2: "南校区 2号门",
    station_nc_main: "北校区大门",
    short_sc_9: "南校 9号门",
    short_sc_2: "南校 2号门",
    short_nc_main: "北校大门",
    today: "今天",
    tomorrow: "明天",
    displaying_runs: "显示 {date} 的 {count} 个班次。",
    view_past: "查看已发车班次",
    no_buses_msg: "该时段无更多班次。",
    select_date: "选择日期",
    day_0: "周日",
    day_1: "周一",
    day_2: "周二",
    day_3: "周三",
    day_4: "周四",
    day_5: "周五",
    day_6: "周六",
    // PWA Prompt
    install_app: "安装应用",
    install_desc: "添加到主屏幕，使用更流畅。",
    install_ios_instr: "点击分享按钮",
    install_ios_action: "然后选择“添加到主屏幕”",
    install_btn: "安装",
    dismiss: "稍后",
  }
};

export const translate = (lang: Language, key: keyof typeof translations['en'], params: Record<string, string | number> = {}) => {
  let text = translations[lang][key] || translations['en'][key] || key;
  Object.keys(params).forEach(param => {
    text = text.replace(`{${param}}`, String(params[param]));
  });
  return text;
};